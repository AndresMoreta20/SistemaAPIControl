<app-header></app-header>

<app-form-pop-up-trabajadores *ngIf="showFormPopup" (closeModalEvent)="closeFormPopup()"></app-form-pop-up-trabajadores>

<app-editar-trabajador *ngIf="showFormPopupModify" (closeModalEvent)="closeFormPopupModify()"></app-editar-trabajador>
<!--<button (click)="onButton()">Puebla tabla</button>-->

<!-- <div>   //Boton agregar orifinal
    <button (click)="openFormPopup()"
        style="background-color: rgba(0, 208, 255, 0.8); color: white; border: none; border-radius: 4px; padding: 8px 16px; text-align: center; text-decoration: none; display: inline-block; font-size: 14px; cursor: pointer; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); transition: background-color 0.3s ease;">Agregar</button>
</div> -->

<div style="position: relative;">
    <div
        style="position: absolute; top: 50%; left: 0; width: 100%; height: 100%; transform: translateY(-50%); background-color: black; opacity: 0.5; z-index: -1;">
    </div>

    <div style="display: flex; justify-content: center; margin-bottom: 20px;">
        <button (click)="openFormPopup()"
            style="background-color: rgba(0, 208, 255, 0.8); color: white; border: none; border-radius: 4px; padding: 8px 16px; text-align: center; text-decoration: none; font-size: 14px; cursor: pointer; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); transition: background-color 0.3s ease; width: 200px;">Agregar</button>
    </div>
</div>


<table class="table table-striped">
    <thead>
        <tr>
            <th>Id_Trabajador</th>
            <th>Apellido_Paterno</th>
            <th>Nombres</th>
            <th>Identificacion</th>
            <th>Edicion</th>
            <th *ngIf="activeRowIndex !== -1">Entidad_Bancaria</th>
            <th *ngIf="activeRowIndex !== -1">CarnetIESS</th>
            <th *ngIf="activeRowIndex !== -1">Direccion</th>
            <th *ngIf="activeRowIndex !== -1">Telefono_Fijo</th>
            <th *ngIf="activeRowIndex !== -1">Telefono_Movil</th>
            <th *ngIf="activeRowIndex !== -1">Genero</th>
            <th *ngIf="activeRowIndex !== -1">Nro_Cuenta_Bancaria</th>
            <th *ngIf="activeRowIndex !== -1">Codigo_Categoria_Ocupacion</th>
            <th *ngIf="activeRowIndex !== -1">Ocupacion</th>
            <th *ngIf="activeRowIndex !== -1">Centro_Costos</th>
            <th *ngIf="activeRowIndex !== -1">Nivel_Salarial</th>
            <th *ngIf="activeRowIndex !== -1">EstadoTrabajador</th>
            <th *ngIf="activeRowIndex !== -1">Tipo_Contrato</th>
            <th *ngIf="activeRowIndex !== -1">Tipo_Cese</th>
            <th *ngIf="activeRowIndex !== -1">EstadoCivil</th>
            <th *ngIf="activeRowIndex !== -1">TipodeComision</th>
            <th *ngIf="activeRowIndex !== -1">FechaNacimiento</th>
            <th *ngIf="activeRowIndex !== -1">FechaIngreso</th>
            <th *ngIf="activeRowIndex !== -1">FechaCese</th>
            <th *ngIf="activeRowIndex !== -1">PeriododeVacaciones</th>
            <th *ngIf="activeRowIndex !== -1">FechaReingreso</th>
            <th *ngIf="activeRowIndex !== -1">Fecha_Ult_Actualizacion</th>
            <th *ngIf="activeRowIndex !== -1">EsReingreso</th>
            <th *ngIf="activeRowIndex !== -1">BancoCTA_CTE</th>
            <th *ngIf="activeRowIndex !== -1">Tipo_Cuenta</th>
            <th *ngIf="activeRowIndex !== -1">RSV_Indem_Acumul</th>
            <th *ngIf="activeRowIndex !== -1">AÃ±o_Ult_Rsva_Indemni</th>
            <th *ngIf="activeRowIndex !== -1">Mes_Ult_Rsva_Indemni</th>
            <th *ngIf="activeRowIndex !== -1">FormaCalculo13ro</th>
            <th *ngIf="activeRowIndex !== -1">FormaCalculo14ro</th>
            <th *ngIf="activeRowIndex !== -1">BoniComplementaria</th>
            <th *ngIf="activeRowIndex !== -1">BoniEspecial</th>
            <th *ngIf="activeRowIndex !== -1">Remuneracion_Minima</th>
            <th *ngIf="activeRowIndex !== -1">CuotaCuentaCorriente</th>
            <th *ngIf="activeRowIndex !== -1">Fondo_Reserva</th>
            <th *ngIf="activeRowIndex !== -1">Mensaje</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let objeto of arregloObjetos; let i = index" (click)="toggleRow(i)">
            <td>{{ objeto.Id_Trabajador }}</td>
            <td>{{ objeto.Apellido_Paterno }}</td>
            <td>{{ objeto.Nombres }}</td>
            <td>{{ objeto.Identificacion }}</td>
            <td>
                <button (click)="openFormPopupModify()"
                    style="background-color: #2ECC71; color: white; border: none; border-radius: 4px; padding: 8px 16px; text-align: center; text-decoration: none; display: inline-block; font-size: 14px; cursor: pointer; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); transition: background-color 0.3s ease; width: 100px;">Modificar</button>
        

                <button (click)="borrarRegistro(objeto)"
                    style="background-color: #E74C3C; color: white; border: none; border-radius: 4px; padding: 8px 16px; text-align: center; text-decoration: none; display: inline-block; font-size: 14px; cursor: pointer; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); transition: background-color 0.3s ease; width: 100px;">Borrar</button>
            </td>

            <td *ngIf="activeRowIndex !== -1">{{ objeto.Entidad_Bancaria }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.CarnetIESS }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Direccion }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Telefono_Fijo }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Telefono_Movil }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Genero }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Nro_Cuenta_Bancaria }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Codigo_Categoria_Ocupacion }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Ocupacion }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Centro_Costos }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Nivel_Salarial }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.EstadoTrabajador }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Tipo_Contrato }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Tipo_Cese }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.EstadoCivil }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.TipodeComision }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.FechaNacimiento }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.FechaIngreso }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.FechaCese }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.PeriododeVacaciones }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.FechaReingreso }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Fecha_Ult_Actualizacion }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.EsReingreso }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.BancoCTA_CTE }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Tipo_Cuenta }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.RSV_Indem_Acumul }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Ano_Ult_Rsva_Indemni }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Mes_Ult_Rsva_Indemni }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.FormaCalculo13ro }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.FormaCalculo14ro }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.BoniComplementaria }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.BoniEspecial }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Remuneracion_Minima }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.CuotaCuentaCorriente }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Fondo_Reserva }}</td>
            <td *ngIf="activeRowIndex !== -1">{{ objeto.Mensaje }}</td>
          </tr>   
    </tbody>
</table>